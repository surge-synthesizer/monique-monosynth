# This file was generated by FRUT's Jucer2CMake from "Monique-Plugin-VST.jucer"

cmake_minimum_required(VERSION 3.15)
set(CMAKE_OSX_DEPLOYMENT_TARGET 10.12 CACHE STRING "Build for 10.12")

project("MoniqueVST")
set(CMAKE_CXX_STANDARD 17)


add_subdirectory(libs/JUCE)


juce_add_plugin(MoniqueVST
  VERSION "1.2"
  BUNDLE_ID "com.monoplugs.monique"
  COMPANY_NAME "Monoplugs"
  COMPANY_COPYRIGHT "Monoplugs 2018"
  COMPANY_WEBSITE "htt/monique.monoplugs.com"
  COMPANY_EMAIL "info@monoplugs.com"

  FORMATS
    "VST3"
    "AU"
    "Standalone"
  PLUGIN_NAME "Monique"
  DESCRIPTION "Monophonic Unique Synthesizer"
  PLUGIN_MANUFACTURER_CODE "MoPl"
  PLUGIN_CODE "moni"
  AAX_IDENTIFIER "com.monoplugs.monique-synthesizer"
  AU_EXPORT_PREFIX "moniAU"
)

juce_generate_juce_header(MoniqueVST)

target_compile_definitions(MoniqueVST
  PUBLIC
    DROWAUDIO_USE_CURL=disabled
    JUCE_ALSA=1
    JUCE_ASIO=1
    JUCE_DIRECTSOUND=0
    JUCE_ENABLE_LIVE_CONSTANT_EDITOR=0
    JUCE_JACK=1
    JUCE_PLUGINHOST_AU=0
    JUCE_PLUGINHOST_VST3=0
    JUCE_PLUGINHOST_VST=0
    JUCE_QUICKTIME=disabled
    JUCE_USE_ANDROID_OPENSLES=1
    JUCE_USE_CDBURNER=0
    JUCE_USE_CDREADER=0
    JUCE_USE_CURL=0
    JUCE_USE_FLAC=0
    JUCE_USE_LAME_AUDIO_FORMAT=0
    JUCE_USE_MP3AUDIOFORMAT=0
    JUCE_USE_OGGVORBIS=1
    JUCE_USE_WINDOWS_MEDIA_FORMAT=0
    JUCE_WASAPI=0
    JUCE_WEB_BROWSER=0

        AUTO_STANDALONE=1
        IS_STANDALONE=1
)

target_sources(MoniqueVST
  PRIVATE
    "Source/monique_core_Datastructures.cpp"
    "Source/monique_core_Parameters.cpp"
    "Source/monique_core_Processor.cpp"
    "Source/monique_core_Synth.cpp"
    "Source/monique_ui_Activate.cpp"
    "Source/monique_ui_AmpPainter.cpp"
    "Source/monique_ui_Credits.cpp"
    "Source/monique_ui_Demo.cpp"
    "Source/monique_ui_DragPad.cpp"
    "Source/monique_ui_ENVPopup.cpp"
    "Source/monique_ui_GlobalSettings.cpp"
    "Source/monique_ui_LookAndFeel.cpp"
    "Source/monique_ui_MFOPopup.cpp"
    "Source/monique_ui_MIDIIO.cpp"
    "Source/monique_ui_MainWindow.cpp"
    "Source/monique_ui_MidiLearnPopup.cpp"
    "Source/monique_ui_ModulationSlider.cpp"
    "Source/monique_ui_Morph.cpp"
    "Source/monique_ui_OptionPopup.cpp"
    "Source/monique_ui_Overlay.cpp"
    "Source/monique_ui_Playback.cpp"
    "Source/monique_ui_Refresher.cpp"
    "Source/monique_ui_SegmentedMeter.cpp"
    "Source/mono_AudioDeviceManager.cpp"
)

if (APPLE OR UNIX)
    # these all need fixing obviously
    target_compile_options(MoniqueVST PUBLIC
            -Wno-deprecated-declarations
            -Wno-float-conversion
            -Wno-sign-conversion
            -Wno-shadow
            )
endif()

juce_add_binary_data(MoniqueVST_BinaryData
  SOURCES
    "Files/A.zip"
    "Files/DARK.mcol"
    "Files/FACTORTY DEFAULT.mlprog"
    "Files/Themes.zip"
    "Fonts/SourceCodePro-Medium.otf"
    "Fonts/lato/Lato-Semibold.ttf"
    "Icon/monique_512x512.png"
    "Icon/monique_desktop_icon_1024x1024.png"
)

target_link_libraries(MoniqueVST
  PRIVATE
    MoniqueVST_BinaryData
    juce::juce_audio_basics
    juce::juce_audio_devices
    juce::juce_audio_formats
    juce::juce_audio_plugin_client
    juce::juce_audio_processors
    juce::juce_audio_utils
    juce::juce_core
    juce::juce_cryptography
    juce::juce_data_structures
    juce::juce_events
    juce::juce_graphics
    juce::juce_gui_basics
    juce::juce_gui_extra
  PUBLIC
    juce::juce_recommended_config_flags
    juce::juce_recommended_lto_flags
    juce::juce_recommended_warning_flags
)
